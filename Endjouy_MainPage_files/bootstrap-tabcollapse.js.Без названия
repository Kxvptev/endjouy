!function($){"use strict";var t=function(t,a){this.options=a,this.$tabs=$(t),this._accordionVisible=!1,this._initAccordion(),this._checkStateOnResize();var e=this;setTimeout(function(){e.checkState()},0)};t.DEFAULTS={accordionClass:"visible-xs",tabsClass:"hidden-xs",accordionTemplate:function(t,a,e,s){return'<div class="panel panel-default">   <div class="panel-heading">      <div class="panel-title">      </div>   </div>   <div id="'+a+'" class="panel-collapse collapse '+(s?"in":"")+'">       <div class="panel-body js-tabcollapse-panel-body">       </div>   </div></div>'}},t.prototype.checkState=function(){this.$tabs.is(":visible")&&this._accordionVisible?(this.showTabs(),this._accordionVisible=!1):this.$accordion.is(":visible")&&!this._accordionVisible&&(this.showAccordion(),this._accordionVisible=!0)},t.prototype.showTabs=function(){var t=this;(this.$tabs.trigger($.Event("show-tabs.bs.tabcollapse")),this.$accordion.find(".js-tabcollapse-panel-heading").detach().each(function(){var a=$(this),e=a.data("bs.tabcollapse.parentLi"),s=t._panelHeadingToTabHeading(a);e.removeClass("active"),e.parent().hasClass("dropdown-menu")&&!e.siblings("li").hasClass("active")&&e.parent().parent().removeClass("active"),s.hasClass("collapsed")?s.removeClass("collapsed"):(e.addClass("active"),e.parent().hasClass("dropdown-menu")&&e.parent().parent().addClass("active")),e.append(a)}),$("li").hasClass("active")||$("li").first().addClass("active"),this.$accordion.find(".js-tabcollapse-panel-body").each(function(){var t=$(this);t.data("bs.tabcollapse.tabpane").append(t.contents().detach())}),this.$accordion.html(""),this.options.updateLinks)&&this.getTabContentElement().find('[data-toggle-was="tab"], [data-toggle-was="pill"]').each(function(){var t=$(this),a=t.attr("href").replace(/-collapse$/g,"");t.attr({"data-toggle":t.attr("data-toggle-was"),"data-toggle-was":"","data-parent":"",href:a})});this.$tabs.trigger($.Event("shown-tabs.bs.tabcollapse"))},t.prototype.getTabContentElement=function(){var t=$(this.options.tabContentSelector);return 0===t.length&&(t=this.$tabs.siblings(".tab-content")),t},t.prototype.showAccordion=function(){this.$tabs.trigger($.Event("show-accordion.bs.tabcollapse"));var t=this.$tabs.find('li:not(.dropdown) [data-toggle="tab"], li:not(.dropdown) [data-toggle="pill"]'),a=this;if(t.each(function(){var t=$(this),e=t.parent();t.data("bs.tabcollapse.parentLi",e),a.$accordion.append(a._createAccordionGroup(a.$accordion.attr("id"),t.detach()))}),this.options.updateLinks){var e=this.$accordion.attr("id");this.$accordion.find(".js-tabcollapse-panel-body").find('[data-toggle="tab"], [data-toggle="pill"]').each(function(){var t=$(this),a=t.attr("href")+"-collapse";t.attr({"data-toggle-was":t.attr("data-toggle"),"data-toggle":"collapse","data-parent":"#"+e,href:a})})}this.$tabs.trigger($.Event("shown-accordion.bs.tabcollapse"))},t.prototype._panelHeadingToTabHeading=function(t){var a=t.attr("href").replace(/-collapse$/g,"");return t.attr({"data-toggle":"tab",href:a,"data-parent":""}),t},t.prototype._tabHeadingToPanelHeading=function(t,a,e,s){return t.addClass("js-tabcollapse-panel-heading "+(s?"":"collapsed")),t.attr({"data-toggle":"collapse","data-parent":"#"+e,href:"#"+a}),t},t.prototype._checkStateOnResize=function(){var t=this;$(window).resize(function(){clearTimeout(t._resizeTimeout),t._resizeTimeout=setTimeout(function(){t.checkState()},100)})},t.prototype._initAccordion=function(){var t=function(){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=0;e<5;e++)t+=a.charAt(Math.floor(Math.random()*a.length));return t},a=this.$tabs.attr("id"),e=(a||t())+"-accordion";this.$accordion=$('<div class="panel-group '+this.options.accordionClass+'" id="'+e+'"></div>'),this.$tabs.after(this.$accordion),this.$tabs.addClass(this.options.tabsClass),this.getTabContentElement().addClass(this.options.tabsClass)},t.prototype._createAccordionGroup=function(t,a){var e=a.attr("data-target"),s=a.data("bs.tabcollapse.parentLi").is(".active");e||(e=a.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var i=$(e),o=i.attr("id")+"-collapse",n=$(this.options.accordionTemplate(a,o,t,s));return n.find(".panel-heading > .panel-title").append(this._tabHeadingToPanelHeading(a,o,t,s)),n.find(".panel-body").append(i.contents().detach()).data("bs.tabcollapse.tabpane",i),n},$.fn.tabCollapse=function(a){return this.each(function(){var e=$(this),s=e.data("bs.tabcollapse"),i=$.extend({},t.DEFAULTS,e.data(),"object"==typeof a&&a);s||e.data("bs.tabcollapse",new t(this,i))})},$.fn.tabCollapse.Constructor=t}(window.jQuery);